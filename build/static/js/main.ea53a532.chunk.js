(this.webpackJsonpyepli=this.webpackJsonpyepli||[]).push([[0],{115:function(e,t,a){},127:function(e,t,a){e.exports=a.p+"static/media/user.17629007.svg"},128:function(e,t,a){e.exports=a.p+"static/media/mail.b9f0f57c.svg"},129:function(e,t,a){e.exports=a.p+"static/media/lock.67b5a772.svg"},131:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAiCAYAAADVhWD8AAAABHNCSVQICAgIfAhkiAAAAvJJREFUWEftl81x2kAYht9PI5zcQiqIO4BUYFKBnQoiKjAcRAZx0HIQnqADpgKcCkIqiFyB4w7sDvAxQejLrGTBroywxI8zk4kue9D+PPvu90vY4RMXfgPMk2QLbgvn83SH7UDbLBZiVMVR6BLQUtczeIrflaYQ7dk2+5aGSdUg0PGjIg/JSG9ifRgzUNTcRqXCMIka8wmBzla35mumhYVfr2dUCa9AOE3/MRCAwqbodu+KqlQIRgy+nIGNCRGqqRoMEsKxL9WD5DwCXakqEVi4vc64CNBGmLVqML6zEbbybizX0FEoIT+VVSkXpu8Nz+XtdTXYKmoL0rYogny6d6ktkYFLt2v381R6AiMuLo7B5oSAxnKRVGNuWmW9JFapMhcgOl+qxPwTQFP0OnLUPg3miRqMe6aoVVSNvBtnVUqcDyKrUgwjvGEdRCNdDR7zvCLKqrHJUPueL0Bw81SixAOMb8qT3LMBS3TtoIgHlJ0jL04kPQ41BUo+2xWJgd8iYBT/4P2rkQebUemr69hW8kwDvwXmYJ1Rlb15mfnSWSgyLZ6bl9IcCgW9MgfsMleDSQLW4pQ5uj2USrEaC7PGoXmddQ4dxhtaRDSRyU707Le73DLXVga+jC81BtrZdJKJMyvXcx37IE/YH/icOAv6bs8WKvS/BxPHDuAEBlUR8WxTlj6YMnHkBiZEJEclbvJUOJ2P6+zmIDDCG1oAjVZZXT86z+b2DhMnPsaPZTgH2qBwCjbqaWphwod1KWWvMI8F101SA/MDMxppTFIhXwRGzSnMHCe4VKGXhxkMA4BOANy6jq0Z7l+ASYMWj91eR+ubNBjm9+tSSmGbSWoNBGAK3J6ttCQrT+l7/hTEDdVWVs8UZ+EAxHeu01mVrYqjFYY5RC7K7vkfZp3Kzxn45ibOG9YNQtxD7/JxRFU20ADDiiO27DrmZn1jPaMe+KRQ34VGW6sHytwSQoNJqvibvTEkNczG1vj5XvtVqAW2reAinhUpY/8AyUD+MoUdgZEAAAAASUVORK5CYII="},132:function(e,t,a){e.exports=a.p+"static/media/my-task.2662449a.svg"},133:function(e,t,a){e.exports=a.p+"static/media/contact.104a90a2.svg"},134:function(e,t,a){e.exports=a.p+"static/media/My-deals.cf8c61a7.svg"},135:function(e,t,a){e.exports=a.p+"static/media/Settings.18b22d9b.svg"},136:function(e,t,a){e.exports=a.p+"static/media/Deals.b2dd69df.svg"},137:function(e,t,a){e.exports=a.p+"static/media/Templates.73dbedef.svg"},138:function(e,t,a){e.exports=a.p+"static/media/Task.9c5cd324.svg"},139:function(e,t,a){e.exports=a(270)},151:function(e,t){},153:function(e,t){},190:function(e,t){},191:function(e,t){},247:function(e,t,a){},248:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){e.exports=a.p+"static/media/Logout.8e953afd.svg"},269:function(e,t,a){},270:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(44),c=a.n(r),i=a(10),o=a(20),l=a(125),u=a(13),m=a(126),p=a.n(m),d={isAuthenticated:!1,isLoading:!1,message:"",success:!0};var g=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(u.a)({},e,{isLoading:!0});case"SIGN_IN_SUCCESSFUL":return Object(u.a)({},e,{isLoading:!1,success:!0});case"SIGN_UP_SUCCESSFUL":return Object(u.a)({},e,{isLoading:!1,message:t.payload,success:!0});case"SIGN_IN_FAILED":return Object(u.a)({},e,{isLoading:!1,success:!1});case"SIGN_UP_FAILED":return Object(u.a)({},e,{isLoading:!1,message:t.payload,success:!1});case"SIGN_OUT":return Object(u.a)({},e,{isAuthenticated:!1,user:{}});case"SET_CURRENT_USER":return localStorage.setItem("jwt",t.payload.token),Object(u.a)({},e,{isAuthenticated:!0,user:p.a.decode(t.payload.token)});default:return e}},verifyEmail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VERIFY_EMAIL":return Object(u.a)({},e,{isLoading:!0});case"VERIFY_EMAIL_SUCCESSFUL":case"VERIFY_EMAIL_FAILED":return Object(u.a)({},e,{isLoading:!1,message:t.payload});default:return e}}}),h=function(){return Object(o.e)(g,Object(o.d)(Object(o.a)(l.a),"development"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_NODE_ENV&&window.__REDUX_DEVTOOLS_EXTENSION__?window.devToolsExtension():function(e){return e}))},E=(a(247),a(15)),v=a(16),f=a(17),b=a(18),N=a(29),y=a(21),A=a(46),S=(a(115),a(248),a(127)),C=a.n(S),O=a(128),I=a.n(O),j=a(129),_=a.n(j),L={auth:"auth-button"},k={user:C.a,mail:I.a,lock:_.a},U="signup",w="signin",x="text",D="email",R="password";function T(e){return s.a.createElement("div",{className:"form-input"},e.icon?s.a.createElement("img",{src:e.icon,className:"input-icon",alt:"img"}):"",s.a.createElement("input",{className:"text-input",onChange:e.onChange,name:e.name,type:e.type?e.type:x,placeholder:e.placeholder}))}function M(e){return s.a.createElement("button",{onClick:e.onClick,className:"button ".concat(L[e.class])},e.text)}var F=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"form"},"signin"!==this.props.page?s.a.createElement(s.a.Fragment,null,s.a.createElement(T,{onChange:this.props.onChange,placeholder:"First name",icon:k.user,type:x,name:"firstName"}),s.a.createElement(T,{onChange:this.props.onChange,placeholder:"Last name",icon:k.user,type:x,name:"lastName"})):"",s.a.createElement(T,{placeholder:"Email",icon:k.mail,name:"email",type:D,onChange:this.props.onChange}),s.a.createElement(T,{placeholder:"Password",icon:k.lock,type:R,name:"password",onChange:this.props.onChange}),s.a.createElement(M,{onClick:this.props.submit,text:"signin"!==this.props.page?"Sign Up":"Sign in",class:"auth"}))}}]),a}(s.a.Component),G=a(24),V=a.n(G),P=a(47),B=a(23),Y=a.n(B);var W="".concat("https://yepli.herokuapp.com/api/v1","/auth");function z(e){return e.replace(/(\b[a-z](?!\s))/g,(function(e){return e.toUpperCase()}))}var q=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).changeDisplay=function(e){n.setState({screen:e})},n.submit=function(){var e=n.state,t=e.screen,a=e.firstName,s=e.lastName,r=e.email,c=e.password,i=[],o={firstName:a,lastName:s,email:r,password:c};if(t===U&&(a.length<2&&i.push("firstName"),s.length<2&&i.push("lastName")),function(e){return/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/.test(String(e).toLowerCase())}(r)||i.push("email"),c.length<5&&i.push("password"),i.length)return console.log("could not go through"),n.setState({requiredFields:i});t===w&&(delete o.firstName,delete o.lastName,n.props.signin(o)),t===U&&n.props.signup(o)},n.onChange=function(e){n.setState(Object(A.a)({},e.target.name,e.target.value))},n.state={screen:"signup",firstName:"",lastName:"",email:"",password:""},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){console.log(this.props)}},{key:"render",value:function(){var e=this,t=this.state.screen;return s.a.createElement("div",{className:"auth-container"},s.a.createElement("div",{className:"left-side"},s.a.createElement("h1",{className:"logo"},"yepli"),s.a.createElement("h1",{className:"heading"},"Experience the most efficient way of communication.")),s.a.createElement("div",{className:"right-side"},s.a.createElement("h1",{className:"title"},"yepli."),s.a.createElement("h4",{className:"greetings"},t===U?"Hey there! Let's get started":"Welcome back. Please login to continue."),this.props.message?s.a.createElement("div",{className:this.props.success?"auth-success":"auth-failure"},this.props.message):"",s.a.createElement(F,{submit:this.submit,onChange:this.onChange,page:t}),s.a.createElement("div",{className:"links"},t===U?s.a.createElement(N.b,{to:"",onClick:function(){return e.changeDisplay(w)}},"Sign in"):s.a.createElement(N.b,{to:"",onClick:function(){return e.changeDisplay(U)}},"Sign up")," |"," ",s.a.createElement(N.b,{to:""}," Forgot Password"))))}}]),a}(s.a.Component),K={signin:function(e){return function(){var t=Object(P.a)(V.a.mark((function t(a){var n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SIGN_IN"}),t.next=4,Y.a.post("".concat(W,"/signin"),e);case 4:return n=t.sent,a({type:"SIGN_IN_SUCCESSFUL",payload:n.data.message}),t.abrupt("return",a({type:"SET_CURRENT_USER",payload:n.data}));case 9:return t.prev=9,t.t0=t.catch(0),console.log(t.t0.response),t.abrupt("return",a({type:"SIGN_IN_FAILED"}));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},signup:function(e){return function(){var t=Object(P.a)(V.a.mark((function t(a){var n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SIGN_IN"}),t.next=4,Y.a.post("".concat(W,"/signup"),e);case 4:n=t.sent,a({type:"SIGN_UP_SUCCESSFUL",payload:n.data.message}),console.log(n.data),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return",a({type:"SIGN_UP_FAILED",payload:t.t0.response.data.message}));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},Z=Object(i.b)((function(e){return console.log(e.auth),{message:e.auth.message,isLoading:e.auth.isLoading,success:e.auth.success}}),K)(q),Q=(a(267),a(131)),H=a.n(Q),J=a(132),X=a.n(J),$=a(133),ee=a.n($),te=a(134),ae=a.n(te),ne=a(135),se=a.n(ne);function re(e){return s.a.createElement("div",{className:"item"},s.a.createElement("img",{src:e.icon,className:"item-image",alt:"img"}),e.title)}var ce={signout:function(){return function(e){return localStorage.removeItem("jwt"),e({type:"SIGN_OUT"})}}},ie=Object(i.b)((function(e){return{user:e.auth.user}}),ce)((function(e){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"nav-bar"}),s.a.createElement("div",{className:"side-bar"},s.a.createElement("div",{className:"side-bar-header"},s.a.createElement("h1",{className:"logo"},"yepli.")),s.a.createElement("div",{className:"user-name"},s.a.createElement("div",{className:"user-image"}),s.a.createElement("h3",null,z(e.user.firstName)," ",z(e.user.lastName))),s.a.createElement("div",{className:"home"},s.a.createElement("img",{src:H.a,className:"home-icon",alt:"logo"}),"Home"),s.a.createElement("div",{className:"dashboard"},s.a.createElement("h3",null,"DASHBOARD"),s.a.createElement("div",{className:"items"},s.a.createElement(re,{title:"My Task",icon:X.a}),s.a.createElement(re,{title:"Contacts",icon:ee.a}),s.a.createElement(re,{title:"My Deals",icon:ae.a}),s.a.createElement(re,{title:"Settings",icon:se.a}))),s.a.createElement("div",{className:"logout-section"},s.a.createElement("button",{onClick:function(){e.signout()},className:"logout-button item"},s.a.createElement("img",{src:a(268),className:"item-image item-image__logout ",alt:"img"}),"Log Out"))),s.a.createElement("div",{className:"main"},e.children))}));a(269);function oe(e){return s.a.createElement("div",{className:"small-card"},s.a.createElement("img",{src:e.icon,alt:"img",className:"small-card-img"}),s.a.createElement("div",{className:"small-card-left-side"},s.a.createElement("h4",null,e.title),s.a.createElement("div",null,e.description),s.a.createElement("button",null,e.buttonText)))}var le=a(136),ue=a.n(le),me=a(137),pe=a.n(me),de=a(138),ge=a.n(de),he=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"dashboard-container"},s.a.createElement("div",{className:"big-card"},s.a.createElement("div",{className:"image-container"}),s.a.createElement("div",{className:"user-details"},s.a.createElement("h1",null,"Hi ",z(this.props.user.firstName),","),s.a.createElement("div",{className:"text"},"Welcome to Yepli! This is your home page. You can have a quick view at your deals and create more deals."))),s.a.createElement("div",{className:"cards"},s.a.createElement(oe,{title:"Deals",icon:ue.a,description:"Create new deals and update existing deals",buttonText:"Add Deal +"}),s.a.createElement(oe,{title:"Task",icon:ge.a,description:"Create new task here. It's simple and fun.",buttonText:"Add Task +"}),s.a.createElement(oe,{title:"Deals",icon:pe.a,description:"Create new templates.",buttonText:"Create +"})))}}]),a}(s.a.Component),Ee=Object(i.b)((function(e){return{user:e.auth.user}}),void 0)(he),ve=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.location.search?this.props.location.search.split("=").pop():"";e&&this.props.verifyEmail(e,this.props.history)}},{key:"render",value:function(){return s.a.createElement("div",{className:"auth-container auth-container__verify-email"},this.props.isLoading?s.a.createElement("div",null,"Loading..."):s.a.createElement("h3",null,this.props.message))}}]),a}(s.a.Component),fe={verifyEmail:function(e,t){return function(){var a=Object(P.a)(V.a.mark((function a(n){var s;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"VERIFY_EMAIL"}),a.next=4,Y.a.get("".concat(W,"/verify-email?cipher=").concat(e));case 4:return s=a.sent,n({type:"VERIFY_EMAIL_SUCCESSFUL",payload:s.data.message}),t.push("/"),a.abrupt("return",n({type:"SET_CURRENT_USER",payload:s.data}));case 10:return a.prev=10,a.t0=a.catch(0),a.abrupt("return",n({type:"VERIFY_EMAIL_FAILED",payload:a.t0.response.data.message}));case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}},be=Object(i.b)((function(e){return{isLoading:e.verifyEmail.isLoading,message:e.verifyEmail.message}}),fe)(ve),Ne=function(e){Object(b.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isAuthenticated:!1},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this.props.isAuthenticated;return console.log(e),s.a.createElement(N.a,null,e?s.a.createElement(ie,{props:this.props},s.a.createElement(y.a,{path:"/",component:Ee})):s.a.createElement(s.a.Fragment,null,s.a.createElement(y.a,{path:"/",exact:!0,component:Z}),s.a.createElement(y.a,{path:"/verify-email",component:be})))}}]),a}(s.a.Component),ye=Object(i.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}))(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae,Se=function(e){e?Y.a.defaults.headers.common.authorization="".concat(e):delete Y.a.defaults.headers.common.authorization},Ce=h(),Oe=localStorage.getItem("jwt");Oe&&(Se(Oe),Ce.dispatch((Ae=Oe,function(e){return e({type:"SET_CURRENT_USER",payload:{token:Ae}})}))),c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(i.a,{store:Ce},s.a.createElement(ye,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[139,1,2]]]);
//# sourceMappingURL=main.ea53a532.chunk.js.map